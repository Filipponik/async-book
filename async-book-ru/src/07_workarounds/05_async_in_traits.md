# `async` в типажах

В настоящее время `async fn` нельзя использовать в типажах в стабильной версии Rust. С 17 ноября 2022 года MVP async-fn-in-trait доступен в ночной версии компилятора, [ подробности смотрите здесь](https://blog.rust-lang.org/inside-rust/2022/11/17/async-fn-in-trait-nightly.html).

Тем временем, существует обходной путь для стабильной версии компилятора с использованием [async-trait crate с сайта crates.io](https://github.com/dtolnay/async-trait).

Заметьте, что использование этих методов типажей приведёт к выделению памяти в куче для каждого вызова функции. Это незначительная стоимость для большинства приложений, но следует это учитывать при принятии решения использовать данную функциональность в публичном API низкоуровневых функций, которые будут вызываться миллион раз в секунду.
